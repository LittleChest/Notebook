# /auth

| 属性      | 值    |
| --------- | ----- |
| protected | false |
| public    | false |

跳转到 GitHub OAuth 页面并请求登入，登入完成后获取访问令牌并保存至客户端以便其它函数验证身份。

## 用法

| 类型     | 接受值 |
| -------- | ------ |
| 请求方法 | GET    |

### 查询参数

| 参数         | 接受值                       | 描述                                                                                                           |
| ------------ | ---------------------------- | -------------------------------------------------------------------------------------------------------------- |
| 无           | 无                           | 由客户端发起的登入请求，后端将根据客户端是否已拥有令牌决定后续行为。                                           |
| redirect_uri | 有效的 URI                   | 请求完成后重定向的目标位置。                                                                                   |
| referer      | 任意                         | 当拥有此查询参数时，将请求完成后重定向的目标位置设定为源站。这等同于手动设置 `redirect_uri` 且**优先级最高**。 |
| code         | OAuth 返回的唯一代码         | 由 OAuth 发起的回调请求，后端将使用获取的唯一代码请求访问令牌。                                                |
| state        | 使用 Base64 编码的有效的 URI | 请求完成后重定向的目标位置，一般为 OAuth 发起的回调请求。                                                      |

## 返回

| 状态码 | 类型       | 描述                                                                                         |
| ------ | ---------- | -------------------------------------------------------------------------------------------- |
| 200    | text/plain | 已登入到 `api.littlew.top` 并将访问令牌与上次登入信息存储至 Cookies。                        |
| 307    | 无         | 跳转到对端 OAuth URL，或跳转到客户端要求的 URL。                                             |
| 500    | 无         | 登入失败，无法获取用户信息，可能发生内部错误。**为避免进一步的错误，已清除存储的访问令牌。** |

### 示例

::: code-group

```[200]
Welcome, user!
```

:::
